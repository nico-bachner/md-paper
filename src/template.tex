\documentclass[
  $if(paper-size)$
    $paper-size$paper,
  $endif$
  $if(font-size)$
    $font-size$,
  $endif$
  $if(two-column)$
    twocolumn,
  $endif$
  $if(titlepage)$
    titlepage,
  $endif$
  $if(draft)$
    draft,
  $endif$
]{$document-type$}

\nonstopmode

\usepackage[utf8]{inputenc}

\providecommand{\tightlist}{
  \setlength{\itemsep}{0pt}
  \setlength{\parskip}{0pt}
}
\usepackage{longtable}

$if(custom-margins)$
  \usepackage[top=$custom-margins.top$, bottom=$custom-margins.bottom$, left=$custom-margins.left$, right=$custom-margins.right$]{geometry}
$endif$

$if(bibliography)$
  \bibliographystyle{$bibliography.style$}
$endif$

\setcounter{secnumdepth}{0}
$if(section-numbering)$
  \setcounter{secnumdepth}{$section-numbering.depth$}
$endif$

$if(header)$
  \usepackage{scrlayer-scrpage}
  \ihead{$header.left$}
  \chead{$header.center$}
  \ohead{$header.right$}
$endif$
$if(footer)$
  \usepackage{scrlayer-scrpage}
  \ifoot{$footer.left$}
  \cfoot{$footer.center$}
  \ofoot{$footer.right$}
$endif$

$if(images)$
  \let\oldincludegraphics\includegraphics
  \renewcommand{\includegraphics}[1]{\oldincludegraphics[width=$images.default-width$\textwidth]{#1}}
$endif$

$if(spacing)$
  \usepackage{setspace}
  \$spacing$spacing
$endif$

$if(font)$
  \usepackage{$font.general$,$font.math$}
$endif$

$for(packages)$
  \usepackage{$packages$}
$endfor$

$header-includes$

\title{
  $title$
  $if(thanks)$
    \thanks{$thanks$}
  $endif$
}
\author{
  $for(author)$
    $author$
    $sep$ \and 
  $endfor$
}
\date{$date$}


\begin{document}

\maketitle

$if(abstract)$
  \begin{abstract}
    $abstract$
  \end{abstract}
$endif$

$if(table-of-contents)$
  \setcounter{tocdepth}{$table-of-contents.depth$}
  \tableofcontents
$endif$

$if(list-of-tables)$
  \listoftables
$endif$

$if(list-of-figures)$
  \listoffigures
$endif$

$body$

$if(bibliography)$
  \newpage
  \bibliography{$bibliography.file-name$}
$endif$

\end{document}
